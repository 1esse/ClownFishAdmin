import{d as p,G as h,o as v,aG as w,j as M,aH as y,ax as B,a as u,w as r,aO as b,h as m,m as x,bX as k,l as C,bY as N,bZ as S,B as V}from"./index-6b87b9fd.js";const A=p({__name:"dynamicMenu",setup($){const a=h(0),o=x();async function i(c=!1){var d,l;a.value++;const n="/route/dynamicMenu/newMenu"+a.value,e=k.find(s=>s.name==="Route");if(!e)return;const t=(d=e==null?void 0:e.children)==null?void 0:d.find(s=>s.path===n);if(t){o.push({name:t.name});return}const f=p({props:["id"],name:"newMenu"+a.value,render(){return C("div",`这里是新增的菜单${"newMenu"+this.$props.id}页面`)}}),_={path:n,name:"newMenu"+a.value,component:f,meta:{title:`${"新增菜单"+a.value}`,icon:N("MenuOutlined"),keepAlive:c},props:{id:a.value}};(l=e==null?void 0:e.children)==null||l.push(_),S.refreshSidebar(),o.addRoute(e),await o.push(n)}return(c,n)=>{const e=V,t=b;return v(),w("div",null,[M("p",null,"已创建动态菜单数："+y(B(a)),1),u(t,null,{default:r(()=>[u(e,{onClick:n[0]||(n[0]=()=>i())},{default:r(()=>[m("新增动态菜单")]),_:1}),u(e,{onClick:n[1]||(n[1]=()=>i(!0))},{default:r(()=>[m("新增动态菜单（缓存）")]),_:1})]),_:1})])}}});export{A as default};
